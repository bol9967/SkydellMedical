<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_config_settings_view_form_ox_website_sale_payment_fee" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.website.sale.payment.fee</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="website_sale.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <block id="sale_shipping_settings" position="after">
                <block title="Payment Processing Fee" id="payment_processing_fee_settings">
                    <setting id="payment_fee_enabled_setting" string="Enable Payment Processing Fee" 
                             help="Enable 4% card processing fee for online payments on website orders">
                        <field name="payment_fee_enabled"/>
                    </setting>
                    <setting id="payment_fee_percentage_setting" string="Fee Percentage" 
                             help="Percentage of order total to charge as processing fee (e.g., 4.0 for 4%)"
                             invisible="not payment_fee_enabled">
                        <div class="content-group">
                            <div class="row mt16">
                                <label class="o_light_label col-lg-3" string="Percentage" for="payment_fee_percentage"/>
                                <field name="payment_fee_percentage" class="col-lg-3"/>
                                <span class="col-lg-1 mt-2">%</span>
                            </div>
                        </div>
                    </setting>
                    <setting id="payment_fee_product_setting" string="Fee Product" 
                             help="Product to use for the payment processing fee line item"
                             invisible="not payment_fee_enabled">
                        <div class="content-group">
                            <div class="row mt16">
                                <label class="o_light_label col-lg-3" string="Product" for="payment_fee_product_id"/>
                                <field name="payment_fee_product_id" class="col-lg-9"/>
                            </div>
                        </div>
                    </setting>
                </block>
            </block>
        </field>
    </record>
</odoo>

